<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.edu.member.mapper.MemberMapper">

	<!-- 아이디 중복 검사 -->
	<select id="idCheck" resultType="int">
	SELECT	COUNT(*) 
	FROM	member
	WHERE	id = #{id}
	</select>

	<!-- 회원가입 -->
	<insert id="register">
	INSERT INTO member
			( id, passwd, name )
	VALUES	( #{id}, #{passwd}, #{name} )
	</insert>
	
	<!-- 로그인 -->
	<select id="login" resultType="com.edu.member.domain.MemberDTO">
	SELECT	id, passwd, name	
	FROM	member
	WHERE	id	= #{id}
	AND		passwd	= #{passwd}
	</select>
	
	<!-- 회원정보수정 -->
	<update id="memberUpdate">
	UPDATE	member
	SET		passwd	= #{passwd},
			name  	= #{name}
	WHERE	id	= #{id}
	</update>

	<!-- 회원탈퇴 -->
	<delete id="memberDelete">
	DELETE	
	FROM	member
	WHERE	id	= #{id}
	AND		passwd	= #{passwd}		
	</delete>

</mapper>